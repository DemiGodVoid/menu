import os
from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.common.keys import Keys
import time

os.system('cls' if os.name == 'nt' else 'clear')

entered_domain = input("Enter website's domain: ")
print(f"Domain: {entered_domain}")

print("\n1: Alert popup (XSS attack)")
print("2: Generate files (XSS attack)")
choice = input("Enter your choice: ")

driver = webdriver.Chrome()

try:
    driver.get(entered_domain)

    if choice == "1":
        try:
            with open('alertpopup.txt', 'r') as file:
                alert_content = file.read()
            
            print("Alert content read from file:")
            print(alert_content)

            # Inject the alert script
            driver.execute_script(f"alert('{alert_content}');")

            print(f"Injected alert content into {entered_domain}.")

        except FileNotFoundError:
            print("Error: alertpopup.txt not found.")
        except Exception as e:
            print(f"An error occurred: {e}")

    elif choice == "2":
        try:
            with open('loopfiles.txt', 'r') as file:
                file_content = file.read().strip().splitlines()

            for i, content in enumerate(file_content, start=1):
                # Create and download files using JavaScript
                driver.execute_script(f"""
                    (function() {{
                        var blob = new Blob(['{content}'], {{type: 'text/plain'}});
                        var link = document.createElement('a');
                        link.href = URL.createObjectURL(blob);
                        link.download = 'hello_{i}.txt';
                        link.click();
                        URL.revokeObjectURL(link.href);
                    }})();
                """)
                time.sleep(1)  # Delay to prevent rapid-fire downloads

            print(f"Generated files in {entered_domain}.")

        except FileNotFoundError:
            print("Error: loopfiles.txt not found.")
        except Exception as e:
            print(f"An error occurred: {e}")

    else:
        print("Invalid choice.")
finally:
    driver.quit()
